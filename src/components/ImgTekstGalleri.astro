---
// Henter de fem props (egenskaber) der sendes ind til komponenten:
// Disse data bliver brugt til at vise billede, titel, pris og styling
// 'class' (her omdøbt til 'className', fordi 'class' er et reserveret ord i JavaScript) = CSS-klasse der fjerner pris på enkelte billeder
const { src, alt, title, price, class: className } = Astro.props;
---

<!-- HOVEDCONTAINEREN -->
<div class="image-wrapper">
  <span class="image-title">
    <!-- Titel og pris vises som tekst ovenpå billedet -->
    {title}
    {
      // Hvis price eksisterer (altså ikke er undefined), så vises prisen med en lodret streg imellem
      // !== betyder "ikke lig med", så vi tjekker om price ikke er undefined
      // && betyder at hvis price er defineret, så vises prisen
      price !== undefined && (
        <>
          <span class="vertical-bar">|</span>
          <span class="product-price">{price},-</span>
        </>
      )
    }
  </span>

  <!-- Billede url'en hentes dynamisk fra javascript, men selve billedet ligger lokalt -->
  <img src={src} alt={alt} class={className} />
</div>

<!-- STYLE TIL BILLEDE OG TEKST -->
<style>
  /* 
  Gør wrapperen til et positioneringsgrundlag for den absolut placerede titel.
  Sørger også for at den fylder hele feltet hvor den bruges.
  */
  .image-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
  }
  /* 
  Titeltekst placeret øverst til venstre med padding.
  */
  .image-title {
    position: absolute;
    top: 8px;
    left: 8px;
    padding: 4px 8px;
    font-size: 0.75rem;
    font-family: "Futura", sans-serif;
    color: black;
    z-index: 10;
    border-radius: 4px;
  }
  /* 
  Sørger for at billedet fylder hele sin container og ikke forvrænges.
  object-fit: cover beskærer billedet hvis det ikke passer i størrelsesforholdet.
  */
  .image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  @media (min-width: 800px) {
    .image-title {
      font-size: 1rem; /* Større tekst på større skærme */
    }
    .vertical-bar {
      margin: 0 0.4rem;
    }
  }
</style>
